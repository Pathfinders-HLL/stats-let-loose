# PostgreSQL Configuration File
# This file is used to configure PostgreSQL server settings
# It is mounted into the container and persists across deployments

# Memory Configuration
shared_buffers = 512MB
effective_cache_size = 1408MB
maintenance_work_mem = 256MB
work_mem = 16MB

# WAL Configuration
checkpoint_completion_target = 0.9
wal_buffers = 64MB

# Query Planner Configuration
default_statistics_target = 100
random_page_cost = 1.1
effective_io_concurrency = 200

# Connection Configuration
max_connections = 50

# Parallel Query Configuration
max_parallel_workers_per_gather = 2
max_parallel_workers = 4

# Shared Preload Libraries - REQUIRED for pg_stat_statements
# This MUST be set here for persistence across restarts
shared_preload_libraries = 'pg_stat_statements'

# pg_stat_statements Configuration
pg_stat_statements.max = 500
pg_stat_statements.track = top
pg_stat_statements.track_utility = off
